<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>cpl_serv.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3-20001105 on Sun Mar 4 23:32:44 2001 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>cpl_serv.h</h1><div class="fragment"><pre>00001 <font class="comment">/******************************************************************************</font>
00002 <font class="comment"> * Copyright (c) 1998, Frank Warmerdam</font>
00003 <font class="comment"> *</font>
00004 <font class="comment"> * Permission is hereby granted, free of charge, to any person obtaining a</font>
00005 <font class="comment"> * copy of this software and associated documentation files (the "Software"),</font>
00006 <font class="comment"> * to deal in the Software without restriction, including without limitation</font>
00007 <font class="comment"> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</font>
00008 <font class="comment"> * and/or sell copies of the Software, and to permit persons to whom the</font>
00009 <font class="comment"> * Software is furnished to do so, subject to the following conditions:</font>
00010 <font class="comment"> *</font>
00011 <font class="comment"> * The above copyright notice and this permission notice shall be included</font>
00012 <font class="comment"> * in all copies or substantial portions of the Software.</font>
00013 <font class="comment"> *</font>
00014 <font class="comment"> * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS</font>
00015 <font class="comment"> * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</font>
00016 <font class="comment"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL</font>
00017 <font class="comment"> * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</font>
00018 <font class="comment"> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</font>
00019 <font class="comment"> * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER</font>
00020 <font class="comment"> * DEALINGS IN THE SOFTWARE.</font>
00021 <font class="comment"> ******************************************************************************</font>
00022 <font class="comment"> *</font>
00023 <font class="comment"> * cpl_serv.h</font>
00024 <font class="comment"> *</font>
00025 <font class="comment"> * This include file derived and simplified from the GDAL Common Portability</font>
00026 <font class="comment"> * Library.</font>
00027 <font class="comment"> */</font>
00028 
00029 <font class="preprocessor">#ifndef CPL_SERV_H_INCLUDED</font>
00030 <font class="preprocessor"></font><font class="preprocessor">#define CPL_SERV_H_INCLUDED</font>
00031 <font class="preprocessor"></font>
00032 <font class="comment">/* ==================================================================== */</font>
00033 <font class="comment">/*      Standard include files.                                         */</font>
00034 <font class="comment">/* ==================================================================== */</font>
00035 
00036 <font class="preprocessor">#include "geo_config.h"</font>
00037 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00038 
00039 <font class="preprocessor">#include &lt;math.h&gt;</font>
00040 
00041 <font class="preprocessor">#ifdef HAVE_STRING_H</font>
00042 <font class="preprocessor"></font><font class="preprocessor">#  include &lt;string.h&gt;</font>
00043 <font class="preprocessor">#endif</font>
00044 <font class="preprocessor"></font><font class="preprocessor">#if defined(HAVE_STRINGS_H) &amp;&amp; !defined(HAVE_STRING_H)</font>
00045 <font class="preprocessor"></font><font class="preprocessor">#  include &lt;strings.h&gt;</font>
00046 <font class="preprocessor">#endif</font>
00047 <font class="preprocessor"></font><font class="preprocessor">#ifdef HAVE_STDLIB_H</font>
00048 <font class="preprocessor"></font><font class="preprocessor">#  include &lt;stdlib.h&gt;</font>
00049 <font class="preprocessor">#endif</font>
00050 <font class="preprocessor"></font>
00051 <font class="comment">/**********************************************************************</font>
00052 <font class="comment"> * Do we want to build as a DLL on windows?</font>
00053 <font class="comment"> **********************************************************************/</font>
00054 <font class="preprocessor">#if !defined(CPL_DLL)</font>
00055 <font class="preprocessor"></font><font class="preprocessor">#  if defined(_WIN32) &amp;&amp; defined(BUILD_AS_DLL)</font>
00056 <font class="preprocessor"></font><font class="preprocessor">#    define CPL_DLL     __declspec(dllexport)</font>
00057 <font class="preprocessor"></font><font class="preprocessor">#  else</font>
00058 <font class="preprocessor"></font><font class="preprocessor">#    define CPL_DLL</font>
00059 <font class="preprocessor"></font><font class="preprocessor">#  endif</font>
00060 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00061 <font class="preprocessor"></font>
00062 <font class="comment">/* ==================================================================== */</font>
00063 <font class="comment">/*      Other standard services.                                        */</font>
00064 <font class="comment">/* ==================================================================== */</font>
00065 <font class="preprocessor">#ifdef __cplusplus</font>
00066 <font class="preprocessor"></font><font class="preprocessor">#  define CPL_C_START           extern "C" {</font>
00067 <font class="preprocessor"></font><font class="preprocessor">#  define CPL_C_END             }</font>
00068 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00069 <font class="preprocessor"></font><font class="preprocessor">#  define CPL_C_START</font>
00070 <font class="preprocessor"></font><font class="preprocessor">#  define CPL_C_END</font>
00071 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00072 <font class="preprocessor"></font>
00073 <font class="preprocessor">#ifndef NULL</font>
00074 <font class="preprocessor"></font><font class="preprocessor">#  define NULL  0</font>
00075 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00076 <font class="preprocessor"></font>
00077 <font class="preprocessor">#ifndef FALSE</font>
00078 <font class="preprocessor"></font><font class="preprocessor">#  define FALSE 0</font>
00079 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00080 <font class="preprocessor"></font>
00081 <font class="preprocessor">#ifndef TRUE</font>
00082 <font class="preprocessor"></font><font class="preprocessor">#  define TRUE  1</font>
00083 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00084 <font class="preprocessor"></font>
00085 <font class="preprocessor">#ifndef MAX</font>
00086 <font class="preprocessor"></font><font class="preprocessor">#  define MIN(a,b)      ((a&lt;b) ? a : b)</font>
00087 <font class="preprocessor"></font><font class="preprocessor">#  define MAX(a,b)      ((a&gt;b) ? a : b)</font>
00088 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00089 <font class="preprocessor"></font>
00090 <font class="preprocessor">#ifndef NULL</font>
00091 <font class="preprocessor"></font><font class="preprocessor">#define NULL 0</font>
00092 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00093 <font class="preprocessor"></font>
00094 <font class="preprocessor">#ifndef ABS</font>
00095 <font class="preprocessor"></font><font class="preprocessor">#  define ABS(x)        ((x&lt;0) ? (-1*(x)) : x)</font>
00096 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00097 <font class="preprocessor"></font>
00098 <font class="preprocessor">#ifndef EQUAL</font>
00099 <font class="preprocessor"></font><font class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(__CYGWIN__)</font>
00100 <font class="preprocessor"></font><font class="preprocessor">#  define EQUALN(a,b,n)           (strnicmp(a,b,n)==0)</font>
00101 <font class="preprocessor"></font><font class="preprocessor">#  define EQUAL(a,b)              (stricmp(a,b)==0)</font>
00102 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00103 <font class="preprocessor"></font><font class="preprocessor">#  define EQUALN(a,b,n)           (strncasecmp(a,b,n)==0)</font>
00104 <font class="preprocessor"></font><font class="preprocessor">#  define EQUAL(a,b)              (strcasecmp(a,b)==0)</font>
00105 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00106 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00107 <font class="preprocessor"></font>
00108 <font class="comment">/* ==================================================================== */</font>
00109 <font class="comment">/*      VSI Services (just map directly onto Standard C services.       */</font>
00110 <font class="comment">/* ==================================================================== */</font>
00111 
00112 <font class="preprocessor">#define VSIFOpen        fopen</font>
00113 <font class="preprocessor"></font><font class="preprocessor">#define VSIFClose       fclose</font>
00114 <font class="preprocessor"></font><font class="preprocessor">#define VSIFEof         feof</font>
00115 <font class="preprocessor"></font><font class="preprocessor">#define VSIFPrintf      fprintf</font>
00116 <font class="preprocessor"></font><font class="preprocessor">#define VSIFPuts        fputs</font>
00117 <font class="preprocessor"></font><font class="preprocessor">#define VSIFPutc        fputc</font>
00118 <font class="preprocessor"></font><font class="preprocessor">#define VSIFGets        fgets</font>
00119 <font class="preprocessor"></font><font class="preprocessor">#define VSIRewind       rewind</font>
00120 <font class="preprocessor"></font>
00121 <font class="preprocessor">#define VSICalloc(x,y)  _GTIFcalloc(x*y)</font>
00122 <font class="preprocessor"></font><font class="preprocessor">#define VSIMalloc       _GTIFcalloc</font>
00123 <font class="preprocessor"></font><font class="preprocessor">#define VSIFree         _GTIFFree</font>
00124 <font class="preprocessor"></font><font class="preprocessor">#define VSIRealloc      _GTIFrealloc</font>
00125 <font class="preprocessor"></font>
00126 <font class="comment">/* -------------------------------------------------------------------- */</font>
00127 <font class="comment">/*      Safe malloc() API.  Thin cover over VSI functions with fatal    */</font>
00128 <font class="comment">/*      error reporting if memory allocation fails.                     */</font>
00129 <font class="comment">/* -------------------------------------------------------------------- */</font>
00130 CPL_C_START
00131 <font class="keywordtype">void</font>  *CPLMalloc( <font class="keywordtype">int</font> );
00132 <font class="keywordtype">void</font>  *CPLCalloc( <font class="keywordtype">int</font>, <font class="keywordtype">int</font> );
00133 <font class="keywordtype">void</font>  *CPLRealloc( <font class="keywordtype">void</font> *, <font class="keywordtype">int</font> );
00134 <font class="keywordtype">char</font>  *CPLStrdup( <font class="keyword">const</font> <font class="keywordtype">char</font> * );
00135 
00136 <font class="preprocessor">#define CPLFree VSIFree</font>
00137 <font class="preprocessor"></font>
00138 <font class="comment">/* -------------------------------------------------------------------- */</font>
00139 <font class="comment">/*      Read a line from a text file, and strip of CR/LF.               */</font>
00140 <font class="comment">/* -------------------------------------------------------------------- */</font>
00141 <font class="keyword">const</font> <font class="keywordtype">char</font> *CPLReadLine( FILE * );
00142 
00143 <font class="comment">/*=====================================================================</font>
00144 <font class="comment">                   Error handling functions (cpl_error.c)</font>
00145 <font class="comment"> =====================================================================*/</font>
00146 
00147 <font class="keyword">typedef</font> <font class="keyword">enum</font>
00148 {
00149     CE_None = 0,
00150     CE_Log = 1,
00151     CE_Warning = 2,
00152     CE_Failure = 3,
00153     CE_Fatal = 4
00154   
00155 } CPLErr;
00156 
00157 <font class="keywordtype">void</font>  CPLError(CPLErr eErrClass, <font class="keywordtype">int</font> err_no, <font class="keyword">const</font> <font class="keywordtype">char</font> *fmt, ...);
00158 <font class="keywordtype">void</font>  CPLErrorReset();
00159 <font class="keywordtype">int</font>  CPLGetLastErrorNo();
00160 <font class="keyword">const</font> <font class="keywordtype">char</font>  * CPLGetLastErrorMsg();
00161 <font class="keywordtype">void</font>  CPLSetErrorHandler(<font class="keywordtype">void</font>(*pfnErrorHandler)(CPLErr,<font class="keywordtype">int</font>,
00162                                                        <font class="keyword">const</font> <font class="keywordtype">char</font> *));
00163 <font class="keywordtype">void</font>  _CPLAssert( <font class="keyword">const</font> <font class="keywordtype">char</font> *, <font class="keyword">const</font> <font class="keywordtype">char</font> *, <font class="keywordtype">int</font> );
00164 
00165 <font class="preprocessor">#ifdef DEBUG</font>
00166 <font class="preprocessor"></font><font class="preprocessor">#  define CPLAssert(expr)  ((expr) ? (void)(0) : _CPLAssert(#expr,__FILE__,__LINE__))</font>
00167 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00168 <font class="preprocessor"></font><font class="preprocessor">#  define CPLAssert(expr)</font>
00169 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00170 <font class="preprocessor"></font>
00171 CPL_C_END
00172 
00173 <font class="comment">/* ==================================================================== */</font>
00174 <font class="comment">/*      Well known error codes.                                         */</font>
00175 <font class="comment">/* ==================================================================== */</font>
00176 
00177 <font class="preprocessor">#define CPLE_AppDefined                 1</font>
00178 <font class="preprocessor"></font><font class="preprocessor">#define CPLE_OutOfMemory                2</font>
00179 <font class="preprocessor"></font><font class="preprocessor">#define CPLE_FileIO                     3</font>
00180 <font class="preprocessor"></font><font class="preprocessor">#define CPLE_OpenFailed                 4</font>
00181 <font class="preprocessor"></font><font class="preprocessor">#define CPLE_IllegalArg                 5</font>
00182 <font class="preprocessor"></font><font class="preprocessor">#define CPLE_NotSupported               6</font>
00183 <font class="preprocessor"></font><font class="preprocessor">#define CPLE_AssertionFailed            7</font>
00184 <font class="preprocessor"></font><font class="preprocessor">#define CPLE_NoWriteAccess              8</font>
00185 <font class="preprocessor"></font>
00186 <font class="comment">/*=====================================================================</font>
00187 <font class="comment">                   Stringlist functions (strlist.c)</font>
00188 <font class="comment"> =====================================================================*/</font>
00189 CPL_C_START
00190 
00191 <font class="keywordtype">char</font>    **CSLAddString(<font class="keywordtype">char</font> **papszStrList, <font class="keyword">const</font> <font class="keywordtype">char</font> *pszNewString);
00192 <font class="keywordtype">int</font>     CSLCount(<font class="keywordtype">char</font> **papszStrList);
00193 <font class="keyword">const</font> <font class="keywordtype">char</font> *CSLGetField( <font class="keywordtype">char</font> **, <font class="keywordtype">int</font> );
00194 <font class="keywordtype">void</font>    CSLDestroy(<font class="keywordtype">char</font> **papszStrList);
00195 <font class="keywordtype">char</font>    **CSLDuplicate(<font class="keywordtype">char</font> **papszStrList);
00196 
00197 <font class="keywordtype">char</font>    **CSLTokenizeString(<font class="keyword">const</font> <font class="keywordtype">char</font> *pszString );
00198 <font class="keywordtype">char</font>    **CSLTokenizeStringComplex(<font class="keyword">const</font> <font class="keywordtype">char</font> *pszString,
00199                                    <font class="keyword">const</font> <font class="keywordtype">char</font> *pszDelimiter,
00200                                    <font class="keywordtype">int</font> bHonourStrings, <font class="keywordtype">int</font> bAllowEmptyTokens );
00201 
00202 <font class="keywordtype">int</font>     CSLPrint(<font class="keywordtype">char</font> **papszStrList, FILE *fpOut);
00203 <font class="keywordtype">char</font>    **CSLLoad(<font class="keyword">const</font> <font class="keywordtype">char</font> *pszFname);
00204 <font class="keywordtype">int</font>     CSLSave(<font class="keywordtype">char</font> **papszStrList, <font class="keyword">const</font> <font class="keywordtype">char</font> *pszFname);
00205 
00206 <font class="keywordtype">char</font>  **CSLInsertStrings(<font class="keywordtype">char</font> **papszStrList, <font class="keywordtype">int</font> nInsertAtLineNo, 
00207                          <font class="keywordtype">char</font> **papszNewLines);
00208 <font class="keywordtype">char</font>  **CSLInsertString(<font class="keywordtype">char</font> **papszStrList, <font class="keywordtype">int</font> nInsertAtLineNo, 
00209                         <font class="keywordtype">char</font> *pszNewLine);
00210 <font class="keywordtype">char</font>  **CSLRemoveStrings(<font class="keywordtype">char</font> **papszStrList, <font class="keywordtype">int</font> nFirstLineToDelete,
00211                          <font class="keywordtype">int</font> nNumToRemove, <font class="keywordtype">char</font> ***ppapszRetStrings);
00212 
00213 <font class="keyword">const</font> <font class="keywordtype">char</font> *CPLSPrintf(<font class="keywordtype">char</font> *fmt, ...);
00214 <font class="keywordtype">char</font>  **CSLAppendPrintf(<font class="keywordtype">char</font> **papszStrList, <font class="keywordtype">char</font> *fmt, ...);
00215 
00216 <font class="keyword">const</font> <font class="keywordtype">char</font> *CSLFetchNameValue(<font class="keywordtype">char</font> **papszStrList, <font class="keyword">const</font> <font class="keywordtype">char</font> *pszName);
00217 <font class="keywordtype">char</font>  **CSLFetchNameValueMultiple(<font class="keywordtype">char</font> **papszStrList, <font class="keyword">const</font> <font class="keywordtype">char</font> *pszName);
00218 <font class="keywordtype">char</font>  **CSLAddNameValue(<font class="keywordtype">char</font> **papszStrList, 
00219                         <font class="keyword">const</font> <font class="keywordtype">char</font> *pszName, <font class="keyword">const</font> <font class="keywordtype">char</font> *pszValue);
00220 <font class="keywordtype">char</font>  **CSLSetNameValue(<font class="keywordtype">char</font> **papszStrList, 
00221                         <font class="keyword">const</font> <font class="keywordtype">char</font> *pszName, <font class="keyword">const</font> <font class="keywordtype">char</font> *pszValue);
00222 
00223 CPL_C_END
00224 
00225 <font class="preprocessor">#endif </font><font class="comment">/* ndef CPL_SERV_H_INCLUDED */</font>
</div></pre><hr><address><small>Generated at Sun Mar 4 23:32:44 2001 for libgeotiff by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3-20001105 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
