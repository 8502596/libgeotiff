<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>geo_keyp.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3-20001105 on Sun Mar 4 22:25:48 2001 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>geo_keyp.h</h1><div class="fragment"><pre>00001 <font class="comment">/**********************************************************************</font>
00002 <font class="comment"> *</font>
00003 <font class="comment"> *  geo_keyp.h - private interface for GeoTIFF geokey tag parsing</font>
00004 <font class="comment"> *</font>
00005 <font class="comment"> *     Written by: Niles D. Ritter</font>
00006 <font class="comment"> *</font>
00007 <font class="comment"> **********************************************************************/</font>
00008 
00009 <font class="preprocessor">#ifndef __geo_keyp_h_</font>
00010 <font class="preprocessor"></font><font class="preprocessor">#define __geo_keyp_h_</font>
00011 <font class="preprocessor"></font>
00012 <font class="preprocessor">#include &lt;stdlib.h&gt;</font> <font class="comment">/* for size_t */</font>
00013 
00014 <font class="comment">/*</font>
00015 <font class="comment"> * This structure contains the internal program</font>
00016 <font class="comment"> * representation of the key entry.</font>
00017 <font class="comment"> */</font>
00018 <font class="keyword">struct </font>GeoKey {
00019         <font class="keywordtype">int</font>       gk_key;    <font class="comment">/* GeoKey ID        */</font>
00020         size_t    gk_size;   <font class="comment">/* data byte size   */</font>
00021         tagtype_t gk_type;   <font class="comment">/* TIFF data type   */</font>
00022         <font class="keywordtype">long</font>      gk_count;  <font class="comment">/* number of values */</font>
00023         <font class="keywordtype">char</font>*     gk_data;   <font class="comment">/* pointer to data, or value */</font>
00024 };
00025 <font class="keyword">typedef</font> <font class="keyword">struct </font>GeoKey GeoKey;
00026 
00027 <font class="comment">/*</font>
00028 <font class="comment"> *  This structure represents the file-organization of</font>
00029 <font class="comment"> *  the key entry. Note that it assumes that short entries</font>
00030 <font class="comment"> *  are aligned along 2-byte boundaries.</font>
00031 <font class="comment"> */</font>
00032 <font class="keyword">struct </font>KeyEntry {
00033         pinfo_t ent_key;        <font class="comment">/* GeoKey ID            */</font>
00034         pinfo_t ent_location;   <font class="comment">/* TIFF Tag ID or 0     */</font>
00035         pinfo_t ent_count;      <font class="comment">/* GeoKey value count   */</font>
00036         pinfo_t ent_val_offset; <font class="comment">/* value or tag offset  */</font>
00037 };
00038 <font class="keyword">typedef</font> <font class="keyword">struct </font>KeyEntry KeyEntry;
00039 
00040 <font class="comment">/*</font>
00041 <font class="comment"> * This is the header of the CoordSystemInfoTag. The 'Version'</font>
00042 <font class="comment"> *  will only change if the CoorSystemInfoTag structure changes;</font>
00043 <font class="comment"> *  The Major Revision will be incremented whenever a new set of</font>
00044 <font class="comment"> *  Keys is added or changed, while the Minor revision will be</font>
00045 <font class="comment"> *  incremented when only the set of Key-values is increased.</font>
00046 <font class="comment"> */</font>
00047 <font class="keyword">struct </font>KeyHeader{
00048         pinfo_t hdr_version;      <font class="comment">/* GeoTIFF Version          */</font>
00049         pinfo_t hdr_rev_major;    <font class="comment">/* GeoKey Major Revision #  */</font>
00050         pinfo_t hdr_rev_minor;    <font class="comment">/* GeoKey Minor Revision #  */</font>
00051         pinfo_t hdr_num_keys;     <font class="comment">/* Number of GeoKeys        */</font>
00052 };
00053 <font class="keyword">typedef</font> <font class="keyword">struct </font>KeyHeader KeyHeader;
00054 
00055 
00056 <font class="keyword">struct </font>gtiff {
00057    tiff_t*    gt_tif;      <font class="comment">/* TIFF file descriptor  */</font>
00058    TIFFMethod gt_methods;  <font class="comment">/* TIFF i/o methods      */</font>
00059    <font class="keywordtype">int</font>        gt_flags;    <font class="comment">/* file flags            */</font>
00060    
00061    pinfo_t    gt_version;  <font class="comment">/* GeoTIFF Version       */</font>
00062    pinfo_t    gt_rev_major;<font class="comment">/* GeoKey Key Revision   */</font>
00063    pinfo_t    gt_rev_minor;<font class="comment">/* GeoKey Code Revision  */</font>
00064    
00065    <font class="keywordtype">int</font>        gt_num_keys; <font class="comment">/* number of keys        */</font>
00066    GeoKey*    gt_keys;     <font class="comment">/* array of keys         */</font>
00067    <font class="keywordtype">int</font>*       gt_keyindex; <font class="comment">/* index of a key, if set*/</font>
00068    <font class="keywordtype">int</font>        gt_keymin;   <font class="comment">/* smallest key set      */</font>
00069    <font class="keywordtype">int</font>        gt_keymax;   <font class="comment">/* largest key set       */</font>
00070    
00071    pinfo_t*   gt_short;    <font class="comment">/* array of SHORT vals   */</font>
00072    <font class="keywordtype">double</font>*    gt_double;   <font class="comment">/* array of DOUBLE vals  */</font>
00073    <font class="keywordtype">char</font>*      gt_ascii;    <font class="comment">/* array of ASCII string */</font>
00074    <font class="keywordtype">int</font>        gt_nshorts;  <font class="comment">/* number of SHORT vals  */</font>
00075    <font class="keywordtype">int</font>        gt_ndoubles; <font class="comment">/* number of DOUBLE vals */</font>
00076    <font class="keywordtype">int</font>        gt_nascii;   <font class="comment">/* number of ASCII chars */</font>
00077 };  
00078 
00079 <font class="keyword">typedef</font> <font class="keyword">enum</font> {
00080         FLAG_FILE_OPEN=1,
00081         FLAG_FILE_MODIFIED=2
00082 } gtiff_flags;
00083 
00084 <font class="preprocessor">#define MAX_KEYINDEX 65535   </font><font class="comment">/* largest possible key    */</font>
00085 <font class="preprocessor">#define MAX_KEYS 100         </font><font class="comment">/* maximum keys in a file  */</font>
00086 <font class="preprocessor">#define MAX_VALUES 1000      </font><font class="comment">/* maximum values in a tag */</font>
00087 
00088 <font class="preprocessor">#endif </font><font class="comment">/* __geo_keyp_h_ */</font>
00089 
</div></pre><hr><address><small>Generated at Sun Mar 4 22:25:48 2001 for libgeotiff by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3-20001105 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
